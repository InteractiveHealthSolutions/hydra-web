<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.9"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.9
                  http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd">

	<!-- See http://wiki.openmrs.org/display/docs/Module+liquibase+File for 
		documentation on this file. See http://www.liquibase.org/manual/home#available_database_refactorings 
		for a list of supported elements and attributes -->

	<changeSet author="naveed.iqbal" id="hydra-201905091131">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_workflow" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_workflow table
		</comment>
		<createTable tableName="hydramodule_workflow">
			<column name="workflow_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="concept_id" type="int">
			</column>


			<column name="description" type="varchar(255)" defaultValue="null" />
			<column name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column name="retired" type="BOOLEAN" defaultValueBoolean="false">
				<constraints nullable="false" />
			</column>
			<column name="retired_by" type="int" />
			<column name="date_retired" type="datetime" />
			<column name="retire_reason" type="varchar(255)" defaultValue="null" />
			<column name="uuid" type="char(38)">
				<constraints unique="true" />
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_workflow_creator_fk"
			baseTableName="hydramodule_workflow" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_workflow_changed_by_fk"
			baseTableName="hydramodule_workflow" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_workflow_voided_by_fk"
			baseTableName="hydramodule_workflow" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_workflow_concept_fk"
			baseTableName="hydramodule_workflow" baseColumnNames="concept_id"
			referencedTableName="concept" referencedColumnNames="concept_id" />
	</changeSet>

	<changeSet author="naveed.iqbal" id="hydra-201905091132">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_phase" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_phase table
		</comment>
		<createTable tableName="hydramodule_phase">
			<column name="phase_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="concept_id" type="int">
			</column>


			<column name="description" type="varchar(255)" defaultValue="null" />
			<column name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column name="retired" type="BOOLEAN" defaultValueBoolean="false">
				<constraints nullable="false" />
			</column>
			<column name="retired_by" type="int" />
			<column name="date_retired" type="datetime" />
			<column name="retire_reason" type="varchar(255)" defaultValue="null" />
			<column name="uuid" type="char(38)">
				<constraints unique="true" />
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_phase_creator_fk"
			baseTableName="hydramodule_phase" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_phase_changed_by_fk"
			baseTableName="hydramodule_phase" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_phase_voided_by_fk"
			baseTableName="hydramodule_phase" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_phase_concept_fk"
			baseTableName="hydramodule_phase" baseColumnNames="concept_id"
			referencedTableName="concept" referencedColumnNames="concept_id" />
	</changeSet>

	<changeSet author="naveed.iqbal" id="hydra-201905091133">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_component" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_component table
		</comment>
		<createTable tableName="hydramodule_component">
			<column name="component_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="concept_id" type="int">
			</column>
			<column name="description" type="varchar(255)" defaultValue="null" />
			<column name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column name="retired" type="BOOLEAN" defaultValueBoolean="false">
				<constraints nullable="false" />
			</column>
			<column name="retired_by" type="int" />
			<column name="date_retired" type="datetime" />
			<column name="retire_reason" type="varchar(255)" defaultValue="null" />
			<column name="uuid" type="char(38)">
				<constraints unique="true" />
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_component_creator_fk"
			baseTableName="hydramodule_component" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_component_changed_by_fk"
			baseTableName="hydramodule_component" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_component_voided_by_fk"
			baseTableName="hydramodule_component" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_component_concept_fk"
			baseTableName="hydramodule_component" baseColumnNames="concept_id"
			referencedTableName="concept" referencedColumnNames="concept_id" />
	</changeSet>

	<changeSet author="naveed.iqbal" id="hydra-201905091143">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_workflow_phases" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_workflow_phases table
		</comment>
		<createTable tableName="hydramodule_workflow_phases">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="workflow_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="phase_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="uuid" type="char(38)">
				<constraints unique="true" />
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_workflow_phase_phase_fk"
			baseTableName="hydramodule_workflow_phases" baseColumnNames="phase_id"
			referencedTableName="hydramodule_phase" referencedColumnNames="phase_id" />
		<addForeignKeyConstraint constraintName="hydramodule_workflow_phase_workflow_fk"
			baseTableName="hydramodule_workflow_phases" baseColumnNames="workflow_id"
			referencedTableName="hydramodule_workflow" referencedColumnNames="workflow_id" />
	</changeSet>

	<changeSet author="naveed.iqbal" id="hydra-201905091243">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_phase_components" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_phase_components table
		</comment>
		<createTable tableName="hydramodule_phase_components">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="component_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="phase_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="uuid" type="char(38)">
				<constraints unique="true" />
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_phase_components_component_fk"
			baseTableName="hydramodule_phase_components" baseColumnNames="component_id"
			referencedTableName="hydramodule_component" referencedColumnNames="component_id" />


		<addForeignKeyConstraint constraintName="hydramodule_phase_components_phase_fk"
			baseTableName="hydramodule_phase_components" baseColumnNames="phase_id"
			referencedTableName="hydramodule_phase" referencedColumnNames="phase_id" />

	</changeSet>

	<changeSet author="naveed.iqbal" id="hydra-201907081343">
		<preConditions onFail="MARK_RAN">
			<not>
				<columnExists tableName="hydramodule_phase_components"
					columnName="display_order" />
			</not>
		</preConditions>
		<comment>
			Adding column 'display_order' in hydramodule_phase_components
			table
		</comment>
		<addColumn tableName="hydramodule_phase_components">
			<column name="workflow_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="display_order" type="int">
				<constraints nullable="false" />
			</column>
		</addColumn>
		<addForeignKeyConstraint constraintName="hydramodule_workflow_phase_component_fk"
			baseTableName="hydramodule_phase_components" baseColumnNames="workflow_id"
			referencedTableName="hydramodule_workflow" referencedColumnNames="workflow_id" />
	</changeSet>

	<changeSet author="naveed.iqbal" id="hydra-201907071343">
		<preConditions onFail="MARK_RAN">
			<not>
				<columnExists tableName="hydramodule_workflow_phases"
					columnName="display_order" />
			</not>
		</preConditions>
		<comment>
			Adding column 'display_order' in hydramodule_workflow_phases
			table
		</comment>
		<addColumn tableName="hydramodule_workflow_phases">
			<column name="display_order" type="int">
				<constraints nullable="false" />
			</column>
		</addColumn>
	</changeSet>

	<changeSet id="hydra-201905091125" author="naveed.iqbal">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_form" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_form table
		</comment>
		<createTable tableName="hydramodule_form">
			<column name="hydramodule_form_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="form_id" type="int">
			</column>
			<column name="form_actions" type="varchar(10000)">
			</column>
			<column name="core" type="BOOLEAN" defaultValueBoolean="false" />
			<column name="component_id" type="int" />

			<column name="encounter_type_id" type="int" />


			<column name="name" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="description" type="varchar(255)" defaultValue="null" />
			<column name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column name="retired" type="BOOLEAN" defaultValueBoolean="false">
				<constraints nullable="false" />
			</column>
			<column name="retired_by" type="int" />
			<column name="date_retired" type="datetime" />
			<column name="retire_reason" type="varchar(255)" defaultValue="null" />
			<column name="uuid" type="char(38)">
				<constraints unique="true" />
			</column>
		</createTable>

		<addForeignKeyConstraint constraintName="hydramodule_form_encounter_type_fk"
			baseTableName="hydramodule_form" baseColumnNames="encounter_type_id"
			referencedTableName="encounter_type" referencedColumnNames="encounter_type_id" />
		<addForeignKeyConstraint constraintName="openmrs_form_fk"
			baseTableName="hydramodule_form" baseColumnNames="form_id"
			referencedTableName="form" referencedColumnNames="form_id" />
		<addForeignKeyConstraint constraintName="hydramodule_form_component_fk"
			baseTableName="hydramodule_form" baseColumnNames="component_id"
			referencedTableName="hydramodule_component" referencedColumnNames="component_id" />
		<addForeignKeyConstraint constraintName="hydramodule_form_creator_fk"
			baseTableName="hydramodule_form" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_form_changed_by_fk"
			baseTableName="hydramodule_form" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_form_voided_by_fk"
			baseTableName="hydramodule_form" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet author="naveed.iqbal" id="hydra-202002011035">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_component_form" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_component_form table
		</comment>
		<createTable tableName="hydramodule_component_form">
			<column name="component_form_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="workflow_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="phase_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="component_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="form_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="display_order" type="int">
			</column>
			<column name="uuid" type="char(38)">
				<constraints unique="true" />
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_component_form_workflow_fk"
			baseTableName="hydramodule_component_form" baseColumnNames="workflow_id"
			referencedTableName="hydramodule_workflow" referencedColumnNames="workflow_id" />
		<addForeignKeyConstraint constraintName="hydramodule_component_form_phase_fk"
			baseTableName="hydramodule_component_phase" baseColumnNames="phase_id"
			referencedTableName="hydramodule_component" referencedColumnNames="phase_id" /><addForeignKeyConstraint constraintName="hydramodule_component_form_component_fk"
			baseTableName="hydramodule_component_form" baseColumnNames="component_id"
			referencedTableName="hydramodule_component" referencedColumnNames="component_id" />
		<addForeignKeyConstraint constraintName="hydramodule_component_form_form_fk"
			baseTableName="hydramodule_component_form" baseColumnNames="form_id"
			referencedTableName="hydramodule_phase" referencedColumnNames="phase_id" />

	</changeSet>

	<changeSet author="naveed.iqbal" id="hydra-201905091130">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_form_tag" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_form_tag table
		</comment>
		<createTable tableName="hydramodule_form_tag">
			<column name="form_tag_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="description" type="varchar(255)" defaultValue="null" />
			<column name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column name="retired" type="BOOLEAN" defaultValueBoolean="false">
				<constraints nullable="false" />
			</column>
			<column name="retired_by" type="int" />
			<column name="date_retired" type="datetime" />
			<column name="retire_reason" type="varchar(255)" defaultValue="null" />
			<column name="uuid" type="char(38)">
				<constraints unique="true" />
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_form_tag_creator_fk"
			baseTableName="hydramodule_form_tag" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_form_tag_changed_by_fk"
			baseTableName="hydramodule_form_tag" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_form_tag_voided_by_fk"
			baseTableName="hydramodule_form_tag" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="hydra-201905091141" author="naveed.iqbal">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_form_tag_map" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_form_tag_map table
		</comment>
		<createTable tableName="hydramodule_form_tag_map">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" />
			</column>
			<column name="form_tag_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="hydramodule_form_id" type="int">
				<constraints nullable="false" />
			</column>
		</createTable>

		<addForeignKeyConstraint constraintName="hydramodule_form_tag_map_form_tag_fk"
			baseTableName="hydramodule_form_tag_map" baseColumnNames="form_tag_id"
			referencedTableName="hydramodule_form_tag" referencedColumnNames="form_tag_id" />

		<addForeignKeyConstraint constraintName="hydramodule_form_tag_map_form_fk"
			baseTableName="hydramodule_form_tag_map" baseColumnNames="hydramodule_form_id"
			referencedTableName="hydramodule_form" referencedColumnNames="hydramodule_form_id" />
	</changeSet>

	<changeSet id="hydra-201905091245" author="naveed.iqbal">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_asset_category" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_asset_type table
		</comment>
		<createTable tableName="hydramodule_asset_category">
			<column name="asset_category_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="description" type="varchar(255)" defaultValue="null" />
			<column name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column name="retired" type="BOOLEAN" defaultValueBoolean="false">
				<constraints nullable="false" />
			</column>
			<column name="retired_by" type="int" />
			<column name="date_retired" type="datetime" />
			<column name="retire_reason" type="varchar(255)" defaultValue="null" />
			<column name="uuid" type="char(38)">
				<constraints unique="true" />
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_asset_category_creator_fk"
			baseTableName="hydramodule_asset_category" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_asset_category_changed_by_fk"
			baseTableName="hydramodule_asset_category" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_asset_category_voided_by_fk"
			baseTableName="hydramodule_asset_category" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>
	<changeSet id="hydra-201905091201" author="naveed.iqbal">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_asset_type" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_asset_type table
		</comment>
		<createTable tableName="hydramodule_asset_type">
			<column name="asset_type_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="asset_category_id" type="int" />

			<column name="description" type="varchar(255)" defaultValue="" />
			<column name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column name="retired" type="BOOLEAN" defaultValueBoolean="false">
				<constraints nullable="false" />
			</column>
			<column name="retired_by" type="int" />
			<column name="date_retired" type="datetime" />
			<column name="retire_reason" type="varchar(255)" defaultValue="null" />
			<column name="uuid" type="char(38)">
				<constraints unique="true" />
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_asset_type_creator_fk"
			baseTableName="hydramodule_asset_type" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_asset_type_changed_by_fk"
			baseTableName="hydramodule_asset_type" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_asset_type_voided_by_fk"
			baseTableName="hydramodule_asset_type" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_asset_type_asset_category_id_fk"
			baseTableName="hydramodule_asset_type" baseColumnNames="asset_category_id"
			referencedTableName="hydramodule_asset_category"
			referencedColumnNames="asset_category_id" />

	</changeSet>

	<changeSet id="hydra-201905091202" author="naveed.iqbal">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_asset" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_asset table
		</comment>
		<createTable tableName="hydramodule_asset">
			<column name="asset_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="capital_value" type="varchar(8)"></column>
			<column name="reference_id" type="varchar(45)"></column>
			<column name="date_procured" type="datetime"></column>
			<column name="asset_type_id" type="int"></column>

			<column name="fixed_asset" type="BOOLEAN" defaultValueBoolean="true">
				<constraints nullable="false" />
			</column>
			<column name="name" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="description" type="varchar(255)" defaultValue="null" />
			<column name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column name="retired" type="BOOLEAN" defaultValueBoolean="false">
				<constraints nullable="false" />
			</column>
			<column name="retired_by" type="int" />
			<column name="date_retired" type="datetime" />
			<column name="retire_reason" type="varchar(255)" defaultValue="null" />
			<column name="uuid" type="char(38)">
				<constraints unique="true" />
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_asset_creator_fk"
			baseTableName="hydramodule_asset" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_asset_changed_by_fk"
			baseTableName="hydramodule_asset" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_asset_voided_by_fk"
			baseTableName="hydramodule_asset" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_asset_asset_type_id_fk"
			baseTableName="hydramodule_asset" baseColumnNames="asset_type_id"
			referencedTableName="hydramodule_asset_type" referencedColumnNames="asset_type_id" />
	</changeSet>

	<changeSet id="hydra-202001011201" author="naveed.iqbal">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_service_type" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_service_type table
		</comment>
		<createTable tableName="hydramodule_service_type">
			<column name="service_type_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="encounter_type_id" type="int" />

			<column name="name" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="description" type="varchar(255)" defaultValue="null" />
			<column name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column name="retired" type="BOOLEAN" defaultValueBoolean="false">
				<constraints nullable="false" />
			</column>
			<column name="retired_by" type="int" />
			<column name="date_retired" type="datetime" />
			<column name="retire_reason" type="varchar(255)" defaultValue="null" />
			<column name="uuid" type="char(38)">
				<constraints unique="true" />
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_service_type_encounter_type_fk"
			baseTableName="hydramodule_service_type" baseColumnNames="encounter_type_id"
			referencedTableName="encounter_type" referencedColumnNames="encounter_type_id" />
		<addForeignKeyConstraint constraintName="hydramodule_service_type_creator_fk"
			baseTableName="hydramodule_service_type" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_service_type_changed_by_fk"
			baseTableName="hydramodule_service_type" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_service_type_voided_by_fk"
			baseTableName="hydramodule_service_type" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="hydra-202001011245" author="naveed.iqbal">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_service_category" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_service table
		</comment>
		<createTable tableName="hydramodule_service_category">
			<column name="service_category_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="description" type="varchar(255)" defaultValue="null" />
			<column name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column name="retired" type="BOOLEAN" defaultValueBoolean="false">
				<constraints nullable="false" />
			</column>
			<column name="retired_by" type="int" />
			<column name="date_retired" type="datetime" />
			<column name="retire_reason" type="varchar(255)" defaultValue="null" />
			<column name="uuid" type="char(38)">
				<constraints unique="true" />
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_service_category_creator_fk"
			baseTableName="hydramodule_service_category" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_service_category_changed_by_fk"
			baseTableName="hydramodule_service_category" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_service_category_voided_by_fk"
			baseTableName="hydramodule_service_category" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="hydra-202001011202" author="naveed.iqbal">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_service" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_service table
		</comment>
		<createTable tableName="hydramodule_service">
			<column name="service_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="unit_cost" type="varchar(8)"></column>
			<column name="reference_id" type="varchar(45)"></column>
			<column name="service_type_id" type="int">
			</column>
			<column name="service_category_id" type="int" />

			<column name="name" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="description" type="varchar(255)" defaultValue="null" />
			<column name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column name="retired" type="BOOLEAN" defaultValueBoolean="false">
				<constraints nullable="false" />
			</column>
			<column name="retired_by" type="int" />
			<column name="date_retired" type="datetime" />
			<column name="retire_reason" type="varchar(255)" defaultValue="null" />
			<column name="uuid" type="char(38)">
				<constraints unique="true" />
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_service_creator_fk"
			baseTableName="hydramodule_service" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_service_changed_by_fk"
			baseTableName="hydramodule_service" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_service_voided_by_fk"
			baseTableName="hydramodule_service" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_service_service_type_id_fk"
			baseTableName="hydramodule_service" baseColumnNames="service_type_id"
			referencedTableName="hydramodule_service_type" referencedColumnNames="service_type_id" />
		<addForeignKeyConstraint constraintName="hydramodule_service_service_category_id_fk"
			baseTableName="hydramodule_service" baseColumnNames="service_category_id"
			referencedTableName="hydramodule_service_category"
			referencedColumnNames="service_category_id" />
	</changeSet>

	<changeSet id="hydra-202010011100" author="naveed.iqbal">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_participant_salary_type" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_participant_salary_type table
		</comment>
		<createTable tableName="hydramodule_participant_salary_type">
			<column name="salary_type_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>

			<column name="name" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="description" type="varchar(255)" defaultValue="null" />
			<column name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column name="retired" type="BOOLEAN" defaultValueBoolean="false">
				<constraints nullable="false" />
			</column>
			<column name="retired_by" type="int" />
			<column name="date_retired" type="datetime" />
			<column name="retire_reason" type="varchar(255)" defaultValue="null" />
			<column name="uuid" type="char(38)">
				<constraints unique="true" />
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_salary_type_creator_fk"
			baseTableName="hydramodule_participant_salary_type" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_salary_type_changed_by_fk"
			baseTableName="hydramodule_participant_salary_type" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_salary_type_voided_by_fk"
			baseTableName="hydramodule_participant_salary_type" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="hydra-202010011058" author="naveed.iqbal">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_participant" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_participant table
		</comment>
		<createTable tableName="hydramodule_participant">
			<column name="participant_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="salary_value" type="varchar(8)"></column>
			<column name="user_id" type="int"></column>
			<column name="salary_type_id" type="int"></column>

			<column name="name" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="description" type="varchar(255)" defaultValue="null" />
			<column name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column name="retired" type="BOOLEAN" defaultValueBoolean="false">
				<constraints nullable="false" />
			</column>
			<column name="retired_by" type="int" />
			<column name="date_retired" type="datetime" />
			<column name="retire_reason" type="varchar(255)" defaultValue="null" />
			<column name="uuid" type="char(38)">
				<constraints unique="true" />
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_participant_creator_fk"
			baseTableName="hydramodule_participant" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_participant_changed_by_fk"
			baseTableName="hydramodule_participant" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_participant_voided_by_fk"
			baseTableName="hydramodule_participant" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />

		<addForeignKeyConstraint constraintName="hydramodule_participant_salary_type_id_fk"
			baseTableName="hydramodule_participant" baseColumnNames="salary_type_id"
			referencedTableName="hydramodule_participant_salary_type"
			referencedColumnNames="salary_type_id" />
		<addForeignKeyConstraint constraintName="hydramodule_participant_user_id_fk"
			baseTableName="hydramodule_participant" baseColumnNames="user_id"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>





	<changeSet id="hydra-201905091203" author="naveed.iqbal">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_event_type" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_event_type table
		</comment>
		<createTable tableName="hydramodule_event_type">
			<column name="event_type_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="description" type="varchar(255)" defaultValue="null" />
			<column name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column name="retired" type="BOOLEAN" defaultValueBoolean="false">
				<constraints nullable="false" />
			</column>
			<column name="retired_by" type="int" />
			<column name="date_retired" type="datetime" />
			<column name="retire_reason" type="varchar(255)" defaultValue="null" />
			<column name="uuid" type="char(38)">
				<constraints unique="true" />
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_event_type_creator_fk"
			baseTableName="hydramodule_event_type" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_event_type_changed_by_fk"
			baseTableName="hydramodule_event_type" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_event_type_voided_by_fk"
			baseTableName="hydramodule_event_type" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="hydra-201905091204" author="naveed.iqbal">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_event_schedule" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_event_schedule table
		</comment>
		<createTable tableName="hydramodule_event_schedule">
			<column name="schedule_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="planned_date" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="end_date" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="event_date" type="datetime">
			</column>
			<column name="reason_deferred" type="varchar(255)"></column>
			<column name="description" type="text">
			</column>
			<column defaultValueNumeric="0" name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column defaultValueBoolean="false" name="voided" type="boolean">
				<constraints nullable="false" />
			</column>
			<column name="voided_by" type="int" />
			<column name="date_voided" type="datetime" />
			<column name="void_reason" type="varchar(255)" />
			<column name="uuid" type="char(38)">
				<constraints nullable="false" unique="true"></constraints>
			</column>
		</createTable>

		<addForeignKeyConstraint constraintName="hydramodule_event_schedule_creator_fk"
			baseTableName="hydramodule_event_schedule" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_event_schedule_changed_by_fk"
			baseTableName="hydramodule_event_schedule" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_event_schedule_voided_by_fk"
			baseTableName="hydramodule_event_schedule" baseColumnNames="voided_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>
	<changeSet id="hydra-201905091205" author="naveed.iqbal">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_event" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_event table
		</comment>
		<createTable tableName="hydramodule_event">
			<column name="event_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(128)">
				<constraints nullable="false" />
			</column>
			<column name="closure_notes" type="varchar(255)">

			</column>
			<column name="reference_id" type="varchar(128)">
			</column>
			<column name="schedule_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="event_type_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="location_id" type="int">
				<constraints nullable="false" />
			</column>
			<column defaultValueBoolean="false" name="closed" type="boolean">
			</column>
			<column name="description" type="text">
			</column>
			<column defaultValueNumeric="0" name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column defaultValueBoolean="false" name="voided" type="boolean">
				<constraints nullable="false" />
			</column>
			<column name="voided_by" type="int" />
			<column name="date_voided" type="datetime" />
			<column name="void_reason" type="varchar(255)" />
			<column name="uuid" type="char(38)">
				<constraints nullable="false" unique="true"></constraints>
			</column>
		</createTable>

		<addForeignKeyConstraint constraintName="hydramodule_event_schedule_fk"
			baseTableName="hydramodule_event" baseColumnNames="schedule_id"
			referencedTableName="hydramodule_event_schedule"
			referencedColumnNames="schedule_id" />

		<addForeignKeyConstraint constraintName="hydramodule_event_location_fk"
			baseTableName="hydramodule_event" baseColumnNames="location_id"
			referencedTableName="location" referencedColumnNames="location_id" />

		<addForeignKeyConstraint constraintName="hydramodule_event_event_type_fk"
			baseTableName="hydramodule_event" baseColumnNames="event_type_id"
			referencedTableName="hydramodule_event_type" referencedColumnNames="event_type_id" />

		<addForeignKeyConstraint constraintName="hydramodule_event_creator_fk"
			baseTableName="hydramodule_event" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_event_changed_by_fk"
			baseTableName="hydramodule_event" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_event_voided_by_fk"
			baseTableName="hydramodule_event" baseColumnNames="voided_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>
	<changeSet id="hydra-201905091206" author="naveed.iqbal">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_event_asset" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_event_asset table
		</comment>
		<createTable tableName="hydramodule_event_asset">
			<column name="event_asset_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="event_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="asset_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="quantity" type="int">
			</column>
			<column name="actual_cost" type="text">
			</column>
			<column name="planned_for_event" type="int" />
			<column name="available_in_event" type="int" />
			<column name="description" type="text">
			</column>
			<column defaultValueNumeric="0" name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column defaultValueBoolean="false" name="voided" type="boolean">
				<constraints nullable="false" />
			</column>
			<column name="voided_by" type="int" />
			<column name="date_voided" type="datetime" />
			<column name="void_reason" type="varchar(255)" />
			<column name="uuid" type="char(38)">
				<constraints nullable="false" unique="true"></constraints>
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_event_asset_event_fk"
			baseTableName="hydramodule_event_asset" baseColumnNames="event_id"
			referencedTableName="hydramodule_event" referencedColumnNames="event_id" />

		<addForeignKeyConstraint constraintName="hydramodule_event_assest_asset_fk"
			baseTableName="hydramodule_event_asset" baseColumnNames="asset_id"
			referencedTableName="hydramodule_asset" referencedColumnNames="asset_id" />
		<addForeignKeyConstraint constraintName="hydramodule_event_asset_creator_fk"
			baseTableName="hydramodule_event_asset" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_event_asset_changed_by_fk"
			baseTableName="hydramodule_event_asset" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_event_asset_voided_by_fk"
			baseTableName="hydramodule_event_asset" baseColumnNames="voided_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="hydra-202014010337" author="naveed.iqbal">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_event_service" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_event_asset table
		</comment>
		<createTable tableName="hydramodule_event_service">
			<column name="event_service_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="event_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="service_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="quantity" type="int">
			</column>
			<column name="actual_cost" type="text">
			</column>
			<column name="planned_for_event" type="int" />
			<column name="available_in_event" type="int" />
			<column name="description" type="text">
			</column>
			<column defaultValueNumeric="0" name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column defaultValueBoolean="false" name="voided" type="boolean">
				<constraints nullable="false" />
			</column>
			<column name="voided_by" type="int" />
			<column name="date_voided" type="datetime" />
			<column name="void_reason" type="varchar(255)" />
			<column name="uuid" type="char(38)">
				<constraints nullable="false" unique="true"></constraints>
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_event_service_event_fk"
			baseTableName="hydramodule_event_service" baseColumnNames="event_id"
			referencedTableName="hydramodule_event" referencedColumnNames="event_id" />
		<addForeignKeyConstraint constraintName="hydramodule_event_service_service_fk"
			baseTableName="hydramodule_event_service" baseColumnNames="service_id"
			referencedTableName="hydramodule_service" referencedColumnNames="service_id" />
		<addForeignKeyConstraint constraintName="hydramodule_event_service_creator_fk"
			baseTableName="hydramodule_event_service" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_event_service_changed_by_fk"
			baseTableName="hydramodule_event_service" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_event_service_voided_by_fk"
			baseTableName="hydramodule_event_service" baseColumnNames="voided_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="hydra-202014010346" author="naveed.iqbal">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_event_participants" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_event_asset table
		</comment>
		<createTable tableName="hydramodule_event_participants">
			<column name="event_participant_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="event_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="participant_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="planned_for_event" type="boolean">
			</column>
			<column name="attendance" type="boolean">
			</column>
			<column name="absence_reason" type="varchar(255)"
				defaultValue="null" />

			<column name="description" type="text">
			</column>
			<column defaultValueNumeric="0" name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column defaultValueBoolean="false" name="voided" type="boolean">
				<constraints nullable="false" />
			</column>
			<column name="voided_by" type="int" />
			<column name="date_voided" type="datetime" />
			<column name="void_reason" type="varchar(255)" />
			<column name="uuid" type="char(38)">
				<constraints nullable="false" unique="true"></constraints>
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_event_participants_event_fk"
			baseTableName="hydramodule_event_participants" baseColumnNames="event_id"
			referencedTableName="hydramodule_event" referencedColumnNames="event_id" />
		<addForeignKeyConstraint
			constraintName="hydramodule_event_participants_participant_fk"
			baseTableName="hydramodule_event_participants" baseColumnNames="participant_id"
			referencedTableName="hydramodule_participant" referencedColumnNames="participant_id" />
		<addForeignKeyConstraint constraintName="hydramodule_event_participants_creator_fk"
			baseTableName="hydramodule_event_participants" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="hydramodule_event_participants_changed_by_fk"
			baseTableName="hydramodule_event_participants" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_event_participants_voided_by_fk"
			baseTableName="hydramodule_event_participants" baseColumnNames="voided_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="hydra-202002021309" author="naveed.iqbal">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_field" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_field table
		</comment>
		<createTable tableName="hydramodule_field">
			<column name="field_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>

			<column name="field_type_id" type="int" />
			<column name="concept_id" type="int" />

			<column name="select_multiple" type="BOOLEAN" />

			<column name="table_name" type="varchar(255)" />
			<column name="attribute_name" type="varchar(255)" />
			<column name="default_value" type="varchar(100)" />

			<column name="name" type="varchar(255)">
			</column>
			<column name="description" type="varchar(255)" defaultValue="null" />
			<column name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column name="retired" type="BOOLEAN" defaultValueBoolean="false">
				<constraints nullable="false" />
			</column>
			<column name="retired_by" type="int" />
			<column name="date_retired" type="datetime" />
			<column name="retire_reason" type="varchar(255)" defaultValue="null" />
			<column name="uuid" type="char(38)">
				<constraints unique="true" />
			</column>
		</createTable>
		
		<addForeignKeyConstraint constraintName="hydramodule_field_field_type_fk"
			baseTableName="hydramodule_field" baseColumnNames="field_type_id"
			referencedTableName="field_type" referencedColumnNames="field_type_id" />
		<addForeignKeyConstraint constraintName="hydramodule_field_concept_fk"
			baseTableName="hydramodule_field" baseColumnNames="concept_id"
			referencedTableName="concept" referencedColumnNames="concept_id" />
		<addForeignKeyConstraint constraintName="hydramodule_field_creator_fk"
			baseTableName="hydramodule_field" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_field_changed_by_fk"
			baseTableName="hydramodule_field" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_field_voided_by_fk"
			baseTableName="hydramodule_field" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>
	
	<changeSet id="hydra-202002021322" author="naveed.iqbal">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_field_answer" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_field_answer table
		</comment>
		<createTable tableName="hydramodule_field_answer">
			<column name="field_answer_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>

			<column name="field_id" type="int" />
			<column name="concept_id" type="int" />
			<column name="uuid" type="char(38)">
				<constraints unique="true" />
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_field_answer_field_fk"
			baseTableName="hydramodule_field_answer" baseColumnNames="field_id"
			referencedTableName="hydramodule_field" referencedColumnNames="field_id" />
		<addForeignKeyConstraint constraintName="hydramodule_field_answer_concept_fk"
			baseTableName="hydramodule_field_answer" baseColumnNames="concept_id"
			referencedTableName="concept" referencedColumnNames="concept_id" />
	</changeSet>
	
	<changeSet id="hydra-202001300654" author="naveed.iqbal">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="hydramodule_form_field" />
			</not>
		</preConditions>
		<comment>
			Creating the hydramodule_form_field table
		</comment>
		<createTable tableName="hydramodule_form_field">
			<column name="form_field_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>

			<column name="display_order" type="int" />
			<column name="min_occurrence" type="int" />
			<column name="max_occurrence" type="int" />
			<column name="min_value" type="int" />
			<column name="max_value" type="int" />
			<column name="min_length" type="int" />
			<column name="max_length" type="int" />
			<column name="min_selections" type="int" />

			<column name="allow_future_date" type="BOOLEAN" />
			<column name="allow_past_date" type="BOOLEAN" />
			<column name="mandatory" type="BOOLEAN" />
			<column name="scoreable" type="BOOLEAN" />
			<column name="allow_decimal" type="BOOLEAN" />

			<column name="default_value" type="varchar(255)" />
			<column name="error_message" type="varchar(255)" />
			<column name="regix" type="varchar(100)" />
			<column name="characters" type="varchar(255)" />
			<column name="display_text" type="varchar(255)" />

			<column name="form_id" type="int" />
			<column name="field_id" type="int" />

			<column name="name" type="varchar(255)">
				<constraints nullable="false" />
			</column>
			<column name="description" type="varchar(255)" defaultValue="null" />
			<column name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="datetime" />
			<column name="retired" type="BOOLEAN" defaultValueBoolean="false">
				<constraints nullable="false" />
			</column>
			<column name="retired_by" type="int" />
			<column name="date_retired" type="datetime" />
			<column name="retire_reason" type="varchar(255)" defaultValue="null" />
			<column name="uuid" type="char(38)">
				<constraints unique="true" />
			</column>
		</createTable>
		<addForeignKeyConstraint constraintName="hydramodule_form_field_form_fk"
			baseTableName="hydramodule_form_field" baseColumnNames="form_id"
			referencedTableName="hydramodule_form" referencedColumnNames="hydramodule_form_id" />
		<addForeignKeyConstraint constraintName="hydramodule_form_field_field_fk"
			baseTableName="hydramodule_form_field" baseColumnNames="field_id"
			referencedTableName="hydramodule_field" referencedColumnNames="field_id" />
		<addForeignKeyConstraint constraintName="hydramodule_form_field_creator_fk"
			baseTableName="hydramodule_form_field" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_form_field_changed_by_fk"
			baseTableName="hydramodule_form_field" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint constraintName="hydramodule_form_field_voided_by_fk"
			baseTableName="hydramodule_form_field" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

</databaseChangeLog>